{% extends 'base.html' %}
{% block content %}

    <p> Pull from database to display two charts: By month, by building.</p>


    <div class='monthly-chart'>
        <canvas id='bubbleChartMonth' width="100" height="100"></canvas>
    </div>

    <div class='monthly-chart'>
        <canvas id='bubbleChartBuilding' width='100px' height='100px'></canvas>
    </div>


    <script>
        Chart.scaleService.updateScaleDefaults('linear', {
        ticks: {
            stepSize: 1
        }})
        
        var my_options = {
            reposive:true,
            scales: {
                xAxes: [{
                    ticks: {
                        max: 31,
                        min: 0,  } }],
                yAxes: [{
                    ticks: {
                        min: 0  } }]
            }   
        }

        var ctx_bubble_M = $("#bubbleChartMonth").get(0).getContext("2d");

        $.get("/monthly.json", function (data) { 
        var myBubbleChart = new Chart(ctx_bubble_M,{
        type: 'bubble',
        data: data,
        options: my_options        
        });
        });


        var ctx_bubble_B = $("#bubbleChartBuilding").get(0).getContext("2d");

        $.get("/building.json", function (data) { 
        var myBubbleChart = new Chart(ctx_bubble_B,{
        type: 'bubble',
        data: data,
        options: my_options        
        });
        });
    </script>


{% endblock %}